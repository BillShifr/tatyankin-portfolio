import { Outlet } from 'react-router-dom'
import { FloatButton } from 'antd'
import { ArrowUpOutlined } from '@ant-design/icons'
import { useState, useEffect } from 'react'
import ScrollBlockModal from './ScrollBlockModal'

const Layout = () => {
  const [isZoomed, setIsZoomed] = useState(false)

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' })
  }

  useEffect(() => {
    const handleContactMapOpen = () => setIsZoomed(true)
    const handleContactMapClose = () => setIsZoomed(false)

    window.addEventListener('contactMap:open', handleContactMapOpen)
    window.addEventListener('contactMap:close', handleContactMapClose)

    return () => {
      window.removeEventListener('contactMap:open', handleContactMapOpen)
      window.removeEventListener('contactMap:close', handleContactMapClose)
    }
  }, [])

  // –§–æ–Ω–æ–≤—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –≤—Å–µ–≥–æ —Å–∞–π—Ç–∞
  const backgroundPhrases = [
    { text: '—Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å', top: '5%', left: '3%', rotation: '-12deg', size: 'text-xl md:text-2xl' },
    { text: '—É–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å', top: '12%', right: '5%', rotation: '8deg', size: 'text-2xl md:text-3xl' },
    { text: '–¥–∞–π—Ç–µ —Ç–∞—Å–∫—É', top: '8%', left: '25%', rotation: '-5deg', size: 'text-xl md:text-2xl' },
    { text: '—Ç–æ–ø –ª–∏–¥', top: '15%', right: '20%', rotation: '15deg', size: 'text-3xl md:text-4xl' },
    { text: '–∏—â—É —Ä–∞–±–æ—Ç—É', top: '22%', left: '8%', rotation: '-8deg', size: 'text-xl md:text-2xl' },
    { text: '—Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å', top: '18%', left: '50%', rotation: '12deg', size: 'text-2xl md:text-3xl' },
    { text: '—É–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å', top: '25%', right: '12%', rotation: '-10deg', size: 'text-xl md:text-2xl' },
    { text: '–¥–∞–π—Ç–µ —Ç–∞—Å–∫—É', top: '30%', left: '15%', rotation: '6deg', size: 'text-2xl md:text-3xl' },
    { text: '—Ç–æ–ø –ª–∏–¥', top: '28%', left: '65%', rotation: '-15deg', size: 'text-2xl md:text-3xl' },
    { text: '–∏—â—É —Ä–∞–±–æ—Ç—É', top: '35%', right: '8%', rotation: '9deg', size: 'text-xl md:text-2xl' },
    { text: '—Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å', top: '40%', left: '5%', rotation: '7deg', size: 'text-2xl md:text-3xl' },
    { text: '—Ç–æ–ø –ª–∏–¥', top: '45%', right: '25%', rotation: '-11deg', size: 'text-xl md:text-2xl' },
    { text: '—É–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å', top: '50%', left: '30%', rotation: '13deg', size: 'text-xl md:text-2xl' },
    { text: '–¥–∞–π—Ç–µ —Ç–∞—Å–∫—É', top: '55%', right: '15%', rotation: '-7deg', size: 'text-2xl md:text-3xl' },
    { text: '–∏—â—É —Ä–∞–±–æ—Ç—É', top: '60%', left: '12%', rotation: '10deg', size: 'text-xl md:text-2xl' },
    { text: '—Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å', top: '65%', left: '55%', rotation: '-9deg', size: 'text-2xl md:text-3xl' },
    { text: '—Ç–æ–ø –ª–∏–¥', top: '70%', right: '10%', rotation: '14deg', size: 'text-xl md:text-2xl' },
    { text: '—É–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å', top: '75%', left: '8%', rotation: '-6deg', size: 'text-2xl md:text-3xl' },
    { text: '–¥–∞–π—Ç–µ —Ç–∞—Å–∫—É', top: '80%', right: '30%', rotation: '11deg', size: 'text-xl md:text-2xl' },
    { text: '–∏—â—É —Ä–∞–±–æ—Ç—É', top: '85%', left: '20%', rotation: '-13deg', size: 'text-2xl md:text-3xl' },
    { text: '—Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å', top: '90%', right: '18%', rotation: '8deg', size: 'text-xl md:text-2xl' },
    { text: '—Ç–æ–ø –ª–∏–¥', top: '95%', left: '45%', rotation: '-10deg', size: 'text-2xl md:text-3xl' },
    { text: '—É–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å', top: '38%', left: '75%', rotation: '5deg', size: 'text-xl md:text-2xl' },
    { text: '–¥–∞–π—Ç–µ —Ç–∞—Å–∫—É', top: '52%', left: '80%', rotation: '-14deg', size: 'text-2xl md:text-3xl' },
    { text: '–∏—â—É —Ä–∞–±–æ—Ç—É', top: '68%', left: '70%', rotation: '9deg', size: 'text-xl md:text-2xl' },
    { text: '—Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å', top: '78%', right: '45%', rotation: '-8deg', size: 'text-2xl md:text-3xl' },
    { text: '—Ç–æ–ø –ª–∏–¥', top: '88%', left: '60%', rotation: '12deg', size: 'text-xl md:text-2xl' },
    { text: '—É–º–µ—é —Ä–∞–±–æ—Ç–∞—Ç—å', top: '42%', right: '35%', rotation: '-6deg', size: 'text-xl md:text-2xl' },
    { text: '–¥–∞–π—Ç–µ —Ç–∞—Å–∫—É', top: '58%', left: '40%', rotation: '7deg', size: 'text-2xl md:text-3xl' },
    { text: '–∏—â—É —Ä–∞–±–æ—Ç—É', top: '72%', right: '22%', rotation: '-11deg', size: 'text-xl md:text-2xl' },
  ]

  return (
    <div 
      className={`min-h-screen relative transition-all duration-1000 origin-center ${
        isZoomed ? 'scale-0 opacity-0 pointer-events-none' : ''
      }`}
      style={{
        transformOrigin: 'center center',
      }}
    >
      {/* –§–æ–Ω–æ–≤—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –≤—Å–µ–≥–æ —Å–∞–π—Ç–∞ */}
      <div className="fixed inset-0 pointer-events-none z-0 overflow-hidden">
        {backgroundPhrases.map((phrase, index) => (
          <div
            key={index}
            className={`absolute ${phrase.size} text-slate-500/15 font-semibold select-none`}
            style={{
              top: phrase.top,
              left: phrase.left,
              right: phrase.right,
              transform: `rotate(${phrase.rotation})`,
            }}
          >
            {phrase.text}
          </div>
        ))}
      </div>
      
      <div className="relative z-10">
        <Outlet />
      </div>
      
      <FloatButton
        icon={<ArrowUpOutlined />}
        type="primary"
        style={{ right: 24 }}
        onClick={scrollToTop}
        tooltip="–ù–∞–≤–µ—Ä—Ö"
      />
      
      <ScrollBlockModal
        title="–°–Ω–æ–≤–∞ —Ç–æ—Ä–æ–ø–∏–º—Å—è —Å—Ä–∞–∑—É –ø—Ä–æ—Å–∫—Ä–æ–ª–∏—Ç—å?) –ü–æ–∑–≤–æ–ª—å —Å–ª–æ–≤–∏—Ç—å —Ç–≤–æ–π —Ñ–æ–∫—É—Å"
        content={`–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç: –∑–¥–µ—Å—å —Ä–µ—á—å –Ω–µ –æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤, –∞ –æ –Ω–∞–∫–æ–ø–∏–≤—à–µ–π—Å—è –±–æ–ª–∏ –∏ –Ω–µ–ø–æ–Ω–∏–º–∞–Ω–∏–∏ –≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å–æ–∏—Å–∫–∞—Ç–µ–ª—è –∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è.\n\n–í –ò–¢ —è –ø—Ä–∏—à—ë–ª –¥–∞–ª–µ–∫–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ, –∞ —Ü–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ, —à–∞–≥ –∑–∞ —à–∞–≥–æ–º. –í—Å—ë –Ω–∞—á–∞–ª–æ—Å—å —Å –ø–µ—Ä–≤—ã—Ö –∫—É–±–∏–∫–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –ø—Ä–æ–¥–æ–ª–∂–∏–ª–æ—Å—å –ª—é–±–æ–≤—å—é –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –Ω–∞—É–∫–∞–º —Å –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤, –∑–∞—Ç–µ–º ‚Äî –ª–∏—Ü–µ–π –Æ–§–ú–õ, –∏, –Ω–∞–∫–æ–Ω–µ—Ü, –≤—ã—Å—à–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏. –ó–∞ —ç—Ç–æ—Ç –ø—É—Ç—å —É–¥–∞–ª–æ—Å—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –ø–æ–¥—Ö–æ–¥–æ–≤, —Ç–∞–∫ —á—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ —É–≤–µ—Ä–µ–Ω–Ω–∞—è. –í—Å—ë-—Ç–∞–∫–∏, —è –∏–∑ —Ç–µ—Ö, –¥–ª—è –∫–æ–≥–æ –≤ 1 –ö–ë ‚Äî 1024 –±–∞–π—Ç–∞ :)\n\n–°–≤–æ–µ–π —Å–∏–ª—å–Ω–µ–π—à–µ–π —Å—Ç–æ—Ä–æ–Ω–æ–π —Å—á–∏—Ç–∞—é –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–¥–µ–π. –Ø—Ä–∫–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –≤–Ω–µ —Ä–∞–±–æ—Ç—ã ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ (–∏ —á—Ç–æ –∫–ª—é—á–µ–≤–æ–µ ‚Äî **–±–µ–∑ –±—é–¥–∂–µ—Ç–∞**) —Ö–∏–º—á–∏—Å—Ç–∫–∏ –æ–±—É–≤–∏ –≤ –Ω–∞—à–µ–º –≥–æ—Ä–æ–¥–µ. –û–Ω–∞ —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ 6 –ª–µ—Ç –∏ –ø–µ—Ä–µ–∂–∏–ª–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤. –ö—Å—Ç–∞—Ç–∏, —Å–∞–º–∞ –∏–¥–µ—è —Ç–∞–∫–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ —Ç–æ–∂–µ –±—ã–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.\n\n**–ê –¢–ï–ü–ï–†–¨ –ö –°–£–¢–ò.**\n\n–£–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ –Ω–∞—Ö–æ–∂—É—Å—å –≤ –∞–∫—Ç–∏–≤–Ω–æ–º –ø–æ–∏—Å–∫–µ —Ä–∞–±–æ—Ç—ã. –ï—Å–ª–∏ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —ç—Ç–æ ‚Äî –∑–Ω–∞—á–∏—Ç, –æ–Ω –≤—Å—ë –µ—â—ë –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.\n\n–ó–∞ —ç—Ç–æ –≤—Ä–µ–º—è —è –ø—Ä–æ–¥–µ–ª–∞–ª –æ–≥—Ä–æ–º–Ω—É—é —Ä–∞–±–æ—Ç—É: –∏–∑—É—á–∏–ª –º–µ—Ö–∞–Ω–∏–∑–º—ã HeadHunter, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª —Å–æ—Ç–Ω–∏ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å–µ–º, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–ª –æ–ø—ã—Ç –∏ –Ω–∞–≤—ã–∫–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ. –ò –≤—Å—ë, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, –≤–ø—É—Å—Ç—É—é.\n–î–µ–ª–æ –¥–æ—à–ª–æ –¥–æ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–∏—à–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –Ω–∞ –±–∞–∑–µ API HH —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –ø–æ–¥–±–æ—Ä–∞ –≤–∞–∫–∞–Ω—Å–∏–π. –û–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ø–∞–º–∏—Ç –æ—Ç–∫–ª–∏–∫–∞–º–∏, –∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–∏, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –º–æ–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ —Ä–µ—à–∞–µ—Ç, —Å—Ç–æ–∏—Ç –ª–∏ —Ç—Ä–∞—Ç–∏—Ç—å –≤–∞—à–µ –∏ –º–æ—ë –≤—Ä–µ–º—è. –ñ–∞–ª—å, —á—Ç–æ –Ω–∞ —Ç–æ–π —Å—Ç–æ—Ä–æ–Ω–µ —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥–∞ —Ä–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Ç–∞–∫–∞—è –∂–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞.\n–ù–æ –¥–∞–∂–µ —Ç–∞–∫, –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–µ–º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–∫–∞–∑–æ–≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ 8-9 –∏–∑ 10. üî•\n\n**–í —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞? –£ –º–µ–Ω—è –µ—Å—Ç—å –Ω–∞ —ç—Ç–æ –æ—Ç–≤–µ—Ç. –ò –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.** –í —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ —Ç–µ—Ä—è—é—Ç –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã ‚Äî –∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å, –∏ —Å–æ–∏—Å–∫–∞—Ç–µ–ª—å. –î–µ—Ç–∞–ª–∏ —è –≥–æ—Ç–æ–≤ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –ª–∏—á–Ω–æ–π –≤—Å—Ç—Ä–µ—á–µ 1:1 –∏–ª–∏ 1:? –≥–ª–∞–≤–Ω–æ–µ —Å –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–æ–π :)\n\n**–Ø –•–û–ß–£ –†–ê–ë–û–¢–ê–¢–¨. –Ø –£–ú–ï–Æ –†–ê–ë–û–¢–ê–¢–¨. –ò –ì–û–¢–û–í –≠–¢–û –î–û–ö–ê–ó–ê–¢–¨.** –ù–æ –Ω–µ –≤ —Ä–æ–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ —Å—Ä–µ–¥–Ω–µ–π —Ä—É–∫–∏ (—ç—Ç–æ—Ç –ø—É—Ç—å, –∫–∞–∫ –ø—É—Ç—å —é–Ω–≥–∏ –¥–æ –æ—Ñ–∏—Ü–µ—Ä–∞, —è —É–∂–µ –ø—Ä–æ—à—ë–ª), –∞ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏, –≥–¥–µ —É –º–µ–Ω—è –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –º–∞–Ω—ë–≤—Ä–∞, –∏–¥–µ–π –∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π ‚Äî –≤ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–π –∏–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–æ–ª–∏ —Å –ª–∏–¥–µ—Ä—Å–∫–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π.`}
      />
    </div>
  )
}

export default Layout

